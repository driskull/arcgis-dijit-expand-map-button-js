<!DOCTYPE HTML>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <title>Expand Map Button Dijit</title>
  <link rel="stylesheet" type="text/css" href="//js.arcgis.com/3.10/js/esri/css/esri.css">
  <link rel="stylesheet" type="text/css" href="css/expand-map.css">
  <style>
    body {
      margin: 40px;
      padding: 20px;
    }
    .container {
      position: relative;
      padding: 10px;
      border: 1px solid #eee;
      -webkit-border-radius: 3px;
      border-radius: 3px;
    }
    .map {
      width: 500px;
      height: 500px;
      position: relative;
    }
    #emb {
      position: absolute;
      z-index: 4;
      top: 93px;
      left: 20px;
    }
  </style>

  <script type="text/javascript">
    var package_path = window.location.pathname.substring(0, window.location.pathname.lastIndexOf('/'));
    var dojoConfig = {
      // The locationPath logic below may look confusing but all its doing is 
      // enabling us to load the api from a CDN and load local modules from the correct location.
      packages: [{
        name: "application",
        location: package_path + '/js'
      }]
    };
  </script>

  <script src="//js.arcgis.com/3.11" type="text/javascript"></script>
  <script type="text/javascript">
    var emb;

    require(["esri/map", "application/ExpandMapButton", "dojo/on"], function (Map, ExpandMapButton, on) {

      var myMap = new Map("map", {
        center: [-56.049, 38.485],
        zoom: 3,
        basemap: "streets"
      });

      emb = new ExpandMapButton({
        expanded: false,
        map: myMap
      }, "emb");

      emb.startup();

      emb.watch("expanded", function (name, oldValue, value) {
        console.log(name + ": from " + oldValue + " to " + value);
      });

    });
  </script>
</head>

<body>
  <div class="container expand-map-hide">
    <div id="map" class="map">
      <div id="emb"></div>
    </div>
  </div>
</body>

</html>
